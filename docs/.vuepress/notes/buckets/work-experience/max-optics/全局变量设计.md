![[buckets/work-experience/max-optics/meta/Pasted image 20230627154424.png]]

## 技术方案

mathjs 二次扩展

[math.js | an extensive math library for JavaScript and Node.js](https://mathjs.org/)

## 产出内容

npm package

## 业务场景

- GUI - 单机版
    - 全局变量管理器
    - 表单输入框
- SDK - 服务端

## 使用功能

- 表达式计算
- 表达式校验
- 输入联想

## API 设计

```js
import GlobalEvaluator from 'global-evaluator'

const geval = new GlobalEvaluator();

// 表达式计算
geval.computed(expression, scope)

e.g. geval.computed('a+b', { a: 1, b: 2 });

// passive 文件校验
geval.checked(expression);

e.g. geval.checked('test.passive')

// 输入联动
geval.autoComplete(keywords);

e.g. geval.autoComplete('a')

rotate_z: 'a+b'

{
  val: 5,
  type: 'int',
  range: [0, 9],
  key: 'rotate_z'
}
```
